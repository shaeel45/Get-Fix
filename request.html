<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <title>Cards | Jidox - Material Design Admin & Dashboard Template</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />

        <!-- App favicon -->
        <link rel="shortcut icon" href="assets/images/favicon.ico">
        
        <!-- Theme Config Js -->
        <!-- Select2 css -->
        <link href="assets/vendor/select2/css/select2.min.css" rel="stylesheet" type="text/css" />

        <!-- Daterangepicker css -->
        <link href="assets/vendor/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" />
        
        <!-- Bootstrap Touchspin css -->
        <link href="assets/vendor/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css" rel="stylesheet" type="text/css" />

        <!-- Flatpickr Timepicker css -->
        <link href="assets/vendor/flatpickr/flatpickr.min.css" rel="stylesheet" type="text/css" />

        <!-- Theme Config Js -->
        <script src="assets/js/config.js"></script>

        <!-- App css -->
        <link href="assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-style" />

        <!-- Icons css -->
        <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    </head>
<style>
    
        .field {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #173d1f;
        }

        th{
            color: #173d1f !;

        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4a6cf7;
            box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .file-upload {
            position: relative;
            border: 2px dashed #ddd;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .file-upload:hover {
            border-color: #4a6cf7;
            background-color: rgba(74, 108, 247, 0.05);
        }
        
        .file-upload input {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }
        
        .file-upload-icon {
            font-size: 40px;
            color: #4a6cf7;
            margin-bottom: 10px;
        }
        
        .file-list {
            margin-top: 15px;
            text-align: left;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        
        .file-item span {
            flex: 1;
            font-size: 14px;
        }
        
        .remove-file {
            color: #ff4757;
            cursor: pointer;
            font-weight: bold;
            padding: 0 5px;
        }
        
        .btn-container {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 25px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #4a6cf7;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3b5be3;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn-ghost {
            background: transparent;
            color: #6c757d;
            border: 1px solid #ddd;
        }
        
        .btn-ghost:hover {
            background: #f8f9fa;
            color: #4a6cf7;
            border-color: #4a6cf7;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 6px;
            background: #4a6cf7;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateX(100%);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1050;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
        }
        
        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .payment-option {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-option:hover {
            border-color: #4a6cf7;
            background-color: rgba(74, 108, 247, 0.05);
        }
        
        .payment-option.selected {
            border-color: #4a6cf7;
            background-color: rgba(74, 108, 247, 0.1);
        }
        
        @media (max-width: 600px) {
            .form-container {
                padding: 20px;
            }
            
            .btn-container {
                flex-direction: column-reverse;
            }
            
            .btn {
                width: 100%;
            }
            
            .modal-content {
                width: 95%;
                margin: 20% auto;
            }
        }

         .profile-btn {
    background: none;
    border: none;
    padding: 0;
    font-size: 1.5rem;
    color: white;
    transition: color 0.3s ease;
}

.profile-btn:hover {
    color: #0d6efd; /* Bootstrap primary color */
}

/* Custom dropdown menu */
.custom-dropdown-menu {
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    min-width: 150px;
    padding: 0.5rem 0;
}

.custom-dropdown-menu .dropdown-item {
    padding: 0.5rem 1rem;
    font-size: 0.95rem;
}

.custom-dropdown-menu .dropdown-item:hover {
    background-color: #f1f1f1;
    color: #000;}
</style>
    <body>
        <!-- Begin page -->
        <div class="wrapper">

            
            <!-- ========== Topbar Start ========== -->
              <!-- ========== Topbar Start ========== -->
           <div class="navbar-custom" style="background-color: #173d1f;">
                <div class="topbar container-fluid">
                    <div class="d-flex align-items-center gap-lg-2 gap-1">

                        <!-- Topbar Brand Logo -->
                        <div class="logo-topbar">
                            <!-- Logo light -->
                            <a href="index.html" class="logo-light">
                                <span class="">
                                    <img src="assets/images/logo.png"  style="height: 71px;" alt="logo">
                                </span>
                                <span class="">
                                    <img src="assets/images/logo-sm.png"  style="height: 71px;" alt="small logo">
                                </span>
                            </a>

                            <!-- Logo Dark -->
                            <a href="index.html" class="logo-dark">
                                <span class="">
                                    <img src="assets/images/logo-dark.png"  height="71" alt="dark logo">
                                </span>
                                <span class="">
                                    <img src="assets/images/logo-sm.png"  style="height: 71px;"  alt="small logo">
                                </span>
                            </a>
                        </div>

                        <!-- Sidebar Menu Toggle Button -->
                        <button class="button-toggle-menu">
                            <i class="ri-menu-2-fill"  style="color: white;"></i>
                        </button>

                        <!-- Horizontal Menu Toggle Button -->
                        <button class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                            <div class="lines">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </button>

                       
                    </div>

                    <ul class="topbar-menu d-flex align-items-center gap-3">
                        


                        <li class="dropdown notification-list">
                            <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                                <i class="ri-notification-3-fill fs-22"></i>
                                <span class="noti-icon-badge"></span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated dropdown-lg py-0">
                                <div class="p-2 border-top-0 border-start-0 border-end-0 border-dashed border">
                                    <div class="row align-items-center">
                                        <div class="col">
                                            <h6 class="m-0 fs-16 fw-medium"> Notification</h6>
                                        </div>
                                        <div class="col-auto">
                                            <a href="javascript: void(0);" class="text-dark text-decoration-underline">
                                                <small>Clear All</small>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <div style="max-height: 300px;" data-simplebar>

                                    <h5 class="text-muted fs-12 fw-bold p-2 text-uppercase mb-0">Today</h5>
                                    <!-- item-->

                                    <a href="javascript:void(0);" class="dropdown-item p-0 notify-item unread-noti card m-0 shadow-none">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="notify-icon bg-primary">
                                                        <i class="ri-message-3-line fs-18"></i>
                                                    </div>
                                                </div>
                                                <div class="flex-grow-1 text-truncate ms-2">
                                                    <h5 class="noti-item-title fw-medium fs-14">Datacorp <small class="fw-normal text-muted float-end ms-1">1 min ago</small></h5>
                                                    <small class="noti-item-subtitle text-muted">Caleb Flakelar commented on Admin</small>
                                                </div>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- item-->
                                    <a href="javascript:void(0);" class="dropdown-item p-0 notify-item read-noti card m-0 shadow-none">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="notify-icon bg-info">
                                                        <i class="ri-user-add-line fs-18"></i>
                                                    </div>
                                                </div>
                                                <div class="flex-grow-1 text-truncate ms-2">
                                                    <h5 class="noti-item-title fw-medium fs-14">Admin <small class="fw-normal text-muted float-end ms-1">1 hr ago</small></h5>
                                                    <small class="noti-item-subtitle text-muted">New user registered</small>
                                                </div>
                                            </div>
                                        </div>
                                    </a>

                                    <h5 class="text-muted fs-12 fw-bold p-2 mb-0 text-uppercase">Yesterday</h5>

                                    <!-- item-->
                                    <a href="javascript:void(0);" class="dropdown-item p-0 notify-item read-noti card m-0 shadow-none">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="notify-icon">
                                                        <img src="assets/images/users/avatar-2.jpg" class="img-fluid rounded-circle" alt="" />
                                                    </div>
                                                </div>
                                                <div class="flex-grow-1 text-truncate ms-2">
                                                    <h5 class="noti-item-title fw-medium fs-14">Cristina Pride <small class="fw-normal text-muted float-end ms-1">1 day ago</small></h5>
                                                    <small class="noti-item-subtitle text-muted">Hi, How are you? What about our next meeting</small>
                                                </div>
                                            </div>
                                        </div>
                                    </a>

                                    <h5 class="text-muted fs-12 fw-bold p-2 mb-0 text-uppercase">31 Jan 2023</h5>

                                    <!-- item-->
                                    <a href="javascript:void(0);" class="dropdown-item p-0 notify-item read-noti card m-0 shadow-none">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="notify-icon bg-primary">
                                                        <i class="ri-discuss-line fs-18"></i>
                                                    </div>
                                                </div>
                                                <div class="flex-grow-1 text-truncate ms-2">
                                                    <h5 class="noti-item-title fw-medium fs-14">Datacorp</h5>
                                                    <small class="noti-item-subtitle text-muted">Caleb Flakelar commented on Admin</small>
                                                </div>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- item-->
                                    <a href="javascript:void(0);" class="dropdown-item p-0 notify-item read-noti card m-0 shadow-none">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="notify-icon">
                                                        <img src="assets/images/users/avatar-4.jpg" class="img-fluid rounded-circle" alt="" />
                                                    </div>
                                                </div>
                                                <div class="flex-grow-1 text-truncate ms-2">
                                                    <h5 class="noti-item-title fw-medium fs-14">Karen Robinson</h5>
                                                    <small class="noti-item-subtitle text-muted">Wow ! this admin looks good and awesome design</small>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <!-- All-->
                                <a href="javascript:void(0);" class="dropdown-item text-center text-primary text-decoration-underline fw-bold notify-item border-top border-light py-2">
                                    View All
                                </a>

                            </div>
                        </li>

                         <div class="custom-profile-dropdown dropdown">
 <button class="profile-btn dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
     <i class="bi bi-person-circle text-white"></i>
 </button>
 <ul class="dropdown-menu custom-dropdown-menu dropdown-menu-end text-white" aria-labelledby="profileDropdown">
     <li><h3 class="dropdown-header text-dark">User</h3></li>
     <li><a href="index.html" class="dropdown-header text-dark">Admin</a></li>
     <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
 </ul>
</div>

                    </ul>
                </div>
            </div>
            <!-- ========== Topbar End ========== -->

            <!-- ========== Left Sidebar Start ========== -->
           <div class="leftside-menu" style="background-color: #173d1f;">

                <!-- Brand Logo Light -->
                <a href="index.html" class="logo logo-light">
                    <span class="logo-lg">
                        <img src="assets/images/logo.png" style="height: 71px;"  alt="logo">
                    </span>
                    <span class="logo-sm">
                        <img src="assets/images/logo-sm.png" style="height: 71px; margin-left: -15px;"  alt="small logo">
                    </span>
                </a>

                <!-- Brand Logo Dark -->
                <a href="index.html" class="logo logo-dark">
                    <span class="logo-lg">
                        <img src="assets/images/logo-dark.png"  style="height: 71px;"   alt="dark logo">
                    </span>
                    <span class="logo-sm">
                        <img src="assets/images/logo-sm.png" style="height: 71px; margin-left: -15px;"  alt="small logo">
                    </span>
                </a>

                <!-- Sidebar Hover Menu Toggle Button -->
                <div class="button-sm-hover" data-bs-toggle="tooltip" data-bs-placement="right" title="Show Full Sidebar">
                    <i class="ri-checkbox-blank-circle-line align-middle"></i>
                </div>

                <!-- Full Sidebar Menu Close Button -->
                <div class="button-close-fullsidebar">
                    <i class="ri-close-fill align-middle"></i>
                </div>

                <!-- Sidebar -left -->
                <div class="h-100" id="leftside-menu-container" data-simplebar>
                    <!-- Leftbar User -->
                    <div class="leftbar-user p-3 text-white">
                        <a href="" class="d-flex align-items-center text-reset">
                            <div class="flex-shrink-0">
                                <img src="assets/images/users/avatar-1.jpg" alt="user-image" height="42" class="rounded-circle shadow">
                            </div>
                            <div class="flex-grow-1 ms-2">
                                <span class="fw-semibold fs-15 d-block">Doris Larson</span>
                                <span class="fs-13">Founder</span>
                            </div>
                            <div class="ms-auto">
                                <i class="ri-arrow-right-s-fill fs-20"></i>
                            </div>
                        </a>
                    </div>

                    <!--- Sidemenu -->
                    <ul class="side-nav">

                        <li class="side-nav-title mt-1" style="color: white;"> Main</li>

                        <li class="side-nav-item">
                            <a href="user.html" class="side-nav-link">
                                <i class="ri-dashboard-2-fill"></i>
                                <span class="badge bg-success float-end">9+</span>
                                <span> Dashboard </span>
                            </a>
                        </li>

                        
                        <li class="side-nav-item">
                           <a href="request.html" class="side-nav-link">
                               <i class="ri-chat-voice-fill"></i>
                               <span> Add Request </span>
                           </a>
                       </li>

                        <li class="side-nav-item">
                            <a href="feedback.html" class="side-nav-link">
                                <i class="ri-chat-voice-fill"></i>
                                <span> Feedback </span>
                            </a>
                        </li>


                        <li class="side-nav-item">
                            <a href="user-apps-chat.html" class="side-nav-link">
                                <i class="ri-chat-voice-fill"></i>
                                <span> Chat </span>
                            </a>
                        </li>



                       
                    </ul>
                    <!--- End Sidemenu -->

                    <div class="clearfix"></div>
                </div>
            </div>
            <!-- ========== Left Sidebar End ========== -->

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->

            <div class="content-page">
                <main class="container-fluid pt-4">
                    <row style="flex: 1 1 35%;">
                      <div class="panel">
                        <h2>My Requests</h2>
                       
                      </div>
                
                      <div class="row">
                             <div class="container-fluid pt-2s">

    <!-- Filter and Add Vendor -->
    <div class="row mb-3">
        <div class="col-md-6">
            <select class="form-select" id="vendorFilter">
                <option value="all">All Categories</option>
                <option value="Plumbing">Plumbing</option>
                <option value="HVAC">HVAC</option>
                <!-- Add more categories as needed -->
            </select>
        </div>
       
    </div>
    
    <!-- Vendor Table (Responsive Cards Converted to Table Style for Contrast) -->
    <div class="card shadow">
        <div class="card-body">
            <h6 class="m-0 font-weight-bold" style="color: #173d1f;">Recent Works</h6>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table-hover">
                        <tr>
                            <th>Vendor Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Category</th>
                            <th>Services</th>
                        </tr>
                    </thead>
                    <tbody id="vendorTable">
                        <tr data-category="Plumbing">
                            <td>City Plumbing Experts</td>
                            <td>(555) 111-2222</td>
                            <td>contact@cityplumbing.com</td>
                            <td>Plumbing</td>
                            <td>Pipe Repair, Leak Detection, Installation</td>
                           
                        </tr>
                        <tr data-category="Plumbing">
                            <td>Quick Flow Plumbers</td>
                            <td>(555) 333-4444</td>
                            <td>info@quickflow.com</td>
                            <td>Plumbing</td>
                            <td>Drain Cleaning, Water Heaters, Emergency Service</td>
                           
                        </tr>
                        <tr data-category="HVAC">
                            <td>Quick Fix HVAC</td>
                            <td>(555) 555-6666</td>
                            <td>service@quickfixhvac.com</td>
                            <td>HVAC</td>
                            <td>AC Repair, Heating, Maintenance</td>
                           
                        </tr>
                        <tr data-category="HVAC">
                            <td>Comfort Control Systems</td>
                            <td>(555) 777-8888</td>
                            <td>info@comfortcontrol.com</td>
                            <td>HVAC</td>
                            <td>Installation, Ventilation, Commercial HVAC</td>
                           
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
                </div>
                
                      <div class="panel spaced" id="paymentPanel" style="display:none; margin-top:16px">
                        <h2>Payment</h2>
                        <p class="muted">Choose how you'd like to pay.</p>
                        <div style="display:flex; gap:8px; margin-top:8px">
                          <button class="btn" onclick="pay('platform')">Pay via Platform</button>
                          <button class="btn ghost" onclick="pay('cash')">Pay Cash to Vendor</button>
                        </div>
                      </div>
                
                      <div class="panel spaced" id="feedbackPanel" style="display:none; margin-top:16px">
                        <h2>Job Feedback</h2>
                        <div class="field"><label>Rating</label>
                          <select id="rating">
                            <option value="5">5 ‚Äî Excellent</option>
                            <option value="4">4 ‚Äî Good</option>
                            <option value="3">3 ‚Äî Okay</option>
                            <option value="2">2 ‚Äî Poor</option>
                            <option value="1">1 ‚Äî Bad</option>
                          </select>
                        </div>
                        <div class="field"><label>Comments</label>
                          <textarea id="feedbackText" placeholder="Tell us about your experience"></textarea>
                        </div>
                        <div style="text-align:right"><button class="btn" onclick="submitFeedback()">Submit Feedback</button></div>
                      </div>
                    </row>
  <div class="grid" >
    <!-- Left Main Form Section -->
    <row class="mt-3" >
      <!-- Unified Request Form Panel -->
      <div class="panel spaced mt-3">
        <h2>Request a Service</h2>

       
<div class="card p-3">
        <!-- Step 2: Form for Booking -->
        <div id="bookingFormContainer">
            <div class="container-fluid">
         <form id="serviceRequestForm">
                                <div class="field">
                                    <label for="serviceCategory">Service Category</label>
                                    <select id="serviceCategory" required onchange="updateVendors()">
                                        <option value="">Select a category</option>
                                        <option value="Plumbing">Plumbing</option>
                                        <option value="Electrical">Electrical</option>
                                        <option value="Cleaning">Cleaning</option>
                                        <option value="Painting">Painting</option>
                                        <option value="HVAC">HVAC</option>
                                    </select>
                                </div>
                                
                                <div class="field">
                                    <label for="vendorSelect">Select Vendor</label>
                                    <select id="vendorSelect" required>
                                        <option value="">Select a vendor</option>
                                        <!-- Vendors will be populated based on category selection -->
                                    </select>
                                </div>
                                
                                <div class="field">
                                    <label for="serviceType">Service Type</label>
                                    <select id="serviceType" required>
                                        <option value="">Select a service</option>
                                        <!-- Services will be populated based on vendor selection -->
                                    </select>
                                </div>
                                
                                <div class="field">
                                    <label for="jobTitle">Job Title</label>
                                    <input type="text" id="jobTitle" placeholder="e.g., Fix kitchen leak" required />
                                </div>

                                <div class="field">
                                    <label for="jobNotes">Details / Notes</label>
                                    <textarea id="jobNotes" placeholder="Describe the issue, location, and any specific requirements (optional)"></textarea>
                                </div>

                                <div class="field">
                                    <label>Upload Pictures (optional)</label>
                                    <div class="file-upload">
                                        <div class="file-upload-icon">üìÅ</div>
                                        <p>Click to upload or drag and drop</p>
                                        <p style="font-size: 12px; color: #6c757d; margin-top: 5px;">Maximum 5 images (PNG, JPG, JPEG)</p>
                                        <input type="file" id="jobPhotos" accept="image/png, image/jpeg, image/jpg" multiple />
                                    </div>
                                    <div id="fileList" class="file-list"></div>
                                </div>

                                <div class="field">
                                    <label for="jobDate">Preferred Date & Time</label>
                                    <input type="datetime-local" id="jobDate" required />
                                </div>

                                <div class="field">
                                    <label for="contact">Contact Number</label>
                                    <input type="tel" id="contact" placeholder="0300-1234567" pattern="[0-9]{4}-[0-9]{7}" required />
                                    <small style="color: #6c757d; font-size: 12px;">Format: 0300-1234567</small>
                                </div>

                                <div class="btn-container">
                                    <button type="button" class="btn btn-ghost" onclick="resetForm()">Cancel</button>
                                    <button type="submit" class="btn text-white" style="background-color: #173d1f;">Submit Request</button>
                                </div>
                            </form>
            </div>

            <div id="paymentModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closePaymentModal()">&times;</span>
                <h2>Payment Method</h2>
                <p>Choose how you'd like to pay for this service:</p>
                
                <div class="payment-options">
                    <div class="payment-option" onclick="selectPayment('platform')">
                        <h4>Pay via Platform</h4>
                        <p>Secure online payment through our platform</p>
                    </div>
                    
                    <div class="payment-option" onclick="selectPayment('cash')">
                        <h4>Pay Cash to Vendor</h4>
                        <p>Pay directly to the vendor after service completion</p>
                    </div>
                </div>
                
                <div class="btn-container" style="margin-top: 20px;">
                    <button type="button" class="btn btn-ghost" onclick="closePaymentModal()">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmPaymentBtn" onclick="processPayment()" disabled>Confirm Payment</button>
                </div>
            </div>
        </div>

        <!-- Notification -->
        <div id="notification" class="notification">
            Form submitted successfully!
        </div>

        <!-- Step 3: Confirmation -->
        <div class="panel spaced" id="confirmation" style="display:none">
          <h2>Request Submitted</h2>
          <p class="muted">Thank you! Your request has been received. We'll review and assign a vendor shortly.</p>
          <div class="tracker spaced" id="tracker">
            <div class="step active">Submitted</div>
            <div class="step">Under Review</div>
            <div class="step">Assigned</div>
            <div class="step">In Progress</div>
            <div class="step">Completed</div>
          </div>
          <div class="spaced">
            <button class="btn" onclick="simulateAssign()">Simulate: Assign Vendor</button>
          </div>
        </div>
      </div>
      </div>
    </div>

  </row>
</main>

            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->

        </div>
        

        <!-- Vendor js -->
        <script src="assets/js/vendor.min.js"></script>

        <!-- App js -->
        <script src="assets/js/app.min.js"></script>
  <script>
        // Sample vendor data
        const vendors = [
            {
                id: 1,
                name: "City Plumbing Experts",
                category: "Plumbing",
                services: ["Pipe Repair", "Leak Detection", "Installation"],
                phone: "(555) 111-2222",
                email: "contact@cityplumbing.com"
            },
            {
                id: 2,
                name: "Quick Flow Plumbers",
                category: "Plumbing",
                services: ["Drain Cleaning", "Water Heaters", "Emergency Service"],
                phone: "(555) 333-4444",
                email: "info@quickflow.com"
            },
            {
                id: 3,
                name: "Quick Fix HVAC",
                category: "HVAC",
                services: ["AC Repair", "Heating", "Maintenance"],
                phone: "(555) 555-6666",
                email: "service@quickfixhvac.com"
            },
            {
                id: 4,
                name: "Comfort Control Systems",
                category: "HVAC",
                services: ["Installation", "Ventilation", "Commercial HVAC"],
                phone: "(555) 777-8888",
                email: "info@comfortcontrol.com"
            },
            {
                id: 5,
                name: "Bright Electric",
                category: "Electrical",
                services: ["Wiring", "Lighting", "Panel Upgrade"],
                phone: "(555) 999-0000",
                email: "contact@brightelectric.com"
            }
        ];

        let selectedPaymentMethod = null;
        let currentRequestId = null;

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('serviceRequestForm');
            const fileInput = document.getElementById('jobPhotos');
            const fileList = document.getElementById('fileList');
            
            // Set minimum datetime to current time
            const now = new Date();
            const localDateTime = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().slice(0, 16);
            document.getElementById('jobDate').min = localDateTime;
            
            // File upload handling
            fileInput.addEventListener('change', function(e) {
                fileList.innerHTML = '';
                const files = e.target.files;
                
                if (files.length > 5) {
                    alert('Maximum 5 files allowed. Please select fewer files.');
                    fileInput.value = '';
                    return;
                }
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    
                    // Check file type
                    if (!file.type.match('image/png') && 
                        !file.type.match('image/jpeg') && 
                        !file.type.match('image/jpg')) {
                        alert('Please upload only image files (PNG, JPG, JPEG).');
                        fileInput.value = '';
                        fileList.innerHTML = '';
                        return;
                    }
                    
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.innerHTML = `
                        <span>${file.name}</span>
                        <span class="remove-file" data-index="${i}">√ó</span>
                    `;
                    fileList.appendChild(fileItem);
                }
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-file').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        removeFile(index);
                    });
                });
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Basic validation
                const contact = document.getElementById('contact').value;
                const contactPattern = /^\d{4}-\d{7}$/;
                
                if (!contactPattern.test(contact)) {
                    alert('Please enter a valid contact number in the format: 0300-1234567');
                    return;
                }
                
                // If validation passes, show payment modal
                showPaymentModal();
            });
        });
        
        function updateVendors() {
            const category = document.getElementById('serviceCategory').value;
            const vendorSelect = document.getElementById('vendorSelect');
            const serviceType = document.getElementById('serviceType');
            
            // Clear previous options
            vendorSelect.innerHTML = '<option value="">Select a vendor</option>';
            serviceType.innerHTML = '<option value="">Select a service</option>';
            
            if (!category) return;
            
            // Filter vendors by category
            const filteredVendors = vendors.filter(vendor => vendor.category === category);
            
            // Add vendors to dropdown
            filteredVendors.forEach(vendor => {
                const option = document.createElement('option');
                option.value = vendor.id;
                option.textContent = vendor.name;
                vendorSelect.appendChild(option);
            });
            
            // Add event listener to update services when vendor is selected
            vendorSelect.onchange = updateServices;
        }
        
        function updateServices() {
            const vendorId = document.getElementById('vendorSelect').value;
            const serviceType = document.getElementById('serviceType');
            
            // Clear previous options
            serviceType.innerHTML = '<option value="">Select a service</option>';
            
            if (!vendorId) return;
            
            // Find the selected vendor
            const vendor = vendors.find(v => v.id == vendorId);
            
            // Add services to dropdown
            vendor.services.forEach(service => {
                const option = document.createElement('option');
                option.value = service;
                option.textContent = service;
                serviceType.appendChild(option);
            });
        }
        
        function removeFile(index) {
            const fileInput = document.getElementById('jobPhotos');
            const files = Array.from(fileInput.files);
            files.splice(index, 1);
            
            // Create a new FileList object
            const dataTransfer = new DataTransfer();
            files.forEach(file => dataTransfer.items.add(file));
            fileInput.files = dataTransfer.files;
            
            // Trigger change event to update the file list display
            const event = new Event('change');
            fileInput.dispatchEvent(event);
        }
        
        function resetForm() {
            if (confirm('Are you sure you want to cancel? All entered data will be lost.')) {
                document.getElementById('serviceRequestForm').reset();
                document.getElementById('fileList').innerHTML = '';
            }
        }
        
        function showNotification() {
            const notification = document.getElementById('notification');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        function showPaymentModal() {
            // Generate a unique request ID
            currentRequestId = 'REQ-' + Date.now();
            
            // Show the modal
            document.getElementById('paymentModal').style.display = 'block';
        }
        
        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
            selectedPaymentMethod = null;
            document.getElementById('confirmPaymentBtn').disabled = true;
            
            // Remove selected class from payment options
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
        }
        
        function selectPayment(method) {
            selectedPaymentMethod = method;
            document.getElementById('confirmPaymentBtn').disabled = false;
            
            // Add selected class to the chosen option
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }
        
        function processPayment() {
            if (!selectedPaymentMethod) {
                alert('Please select a payment method');
                return;
            }
            
            // In a real application, you would process the payment here
            // For demonstration, we'll just show a success message
            
            alert(`Payment method selected: ${selectedPaymentMethod === 'platform' ? 'Pay via Platform' : 'Pay Cash to Vendor'}`);
            
            // Close the modal
            closePaymentModal();
            
            // Show success notification
            showNotification();
            
            // Add the request to the requests list
            addRequestToList();
            
            // Reset the form
            resetForm();
        }
        
        function addRequestToList() {
            const category = document.getElementById('serviceCategory').value;
            const vendorId = document.getElementById('vendorSelect').value;
            const serviceType = document.getElementById('serviceType').value;
            const jobTitle = document.getElementById('jobTitle').value;
            
            const vendor = vendors.find(v => v.id == vendorId);
            
            const requestsList = document.getElementById('requestsList');
            
            // Remove the "no requests" message if it exists
            if (requestsList.querySelector('.muted')) {
                requestsList.innerHTML = '';
            }
            
            // Create request element
            const requestElement = document.createElement('div');
            requestElement.className = 'request-item';
            requestElement.innerHTML = `
                <h4>${jobTitle}</h4>
                <p><strong>Category:</strong> ${category}</p>
                <p><strong>Vendor:</strong> ${vendor.name}</p>
                <p><strong>Service:</strong> ${serviceType}</p>
                <p><strong>Status:</strong> <span class="text-warning">Pending</span></p>
                <p><strong>Request ID:</strong> ${currentRequestId}</p>
                <hr>
            `;
            
            // Add to the top of the list
            requestsList.prepend(requestElement);
        }
        
        function submitFeedback() {
            const rating = document.getElementById('rating').value;
            const feedbackText = document.getElementById('feedbackText').value;
            
            if (!rating || !feedbackText) {
                alert('Please provide both a rating and feedback comments');
                return;
            }
            
            alert('Thank you for your feedback!');
            document.getElementById('feedbackPanel').style.display = 'none';
            document.getElementById('rating').value = '5';
            document.getElementById('feedbackText').value = '';
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('paymentModal');
            if (event.target == modal) {
                closePaymentModal();
            }
        };
    </script>

    </body>
</html>
